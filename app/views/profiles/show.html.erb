<% provide(:title, 'Public Profile') %>

<h2><%= @participant.name %></h2>

<figure class="image is-128x128">
  <%= image_tag(get_participant_picture_url(@participant.id), alt: @participant.name) %>
</figure>

<div class="show-grid-wrapper">

  <div class="grid-label">Email:</div>
  <div class="grid-value"><%= @participant.email %></div>

  <div class="grid-label">Phone:</div>
  <div class="grid-value"><%= @participant.phone %></div>

  <div class="grid-label">Website:</div>
  <div class="grid-value"><%= @participant.website %></div>

  <div class="grid-label">Address:</div>
  <div class="grid-value"><%= display_address(@participant.address_id) %></div>

  <div class="grid-label">Biography:</div>
  <div class="grid-value"><%= @participant.biography %></div>

  <div class="grid-label">Party:</div>
  <div class="grid-value"><%= display_party(@participant.party_id) %></div>

  <% if @participant.is_candidate %>
    <div class="grid-label">District:</div>
    <div class="grid-value"><%= display_district(@participant.district_id) %></div>
  <% else %>
    <div class="grid-label">Party Leader:</div>
    <div class="grid-value"><%= display_participant(@participant.leader_participant_id) %></div>
  <% end %>

  <div class="grid-label">Social Media Profiles:</div>
  <div class="grid-value">
    <% @participant.social_media_profiles.each do |s| %>
      <%= display_social_media_type(s.social_media_type_id) %>: <%= s.handle %>
      <br />
    <% end %>
  </div>

  <div class="grid-label">Survey:</div>
  <div class="grid-value">
    <% @survey_questions.each do |question_id, question| %>
      <%= question %>
      <%= display_survey_answer(question_id, @participant.id) %>
      <%= display_survey_source(question_id, @participant.id) %>
      <br />
    <% end %>
  </div>

</div>

<div class="buttons">
  <%= link_to 'Edit Profile', edit_profile_path(@participant), class: "button is-link" %>
</div>